"use strict";!function(){var menuIsDisplayd,menuIsDisplayedOnMobile,mainNav=document.querySelector(".main-nav"),menuToggle=mainNav.querySelector(".site-list__toggle"),items=mainNav.querySelectorAll(".site-list__item");function isMobile(){return"mobile"===function getCurrentView(){return window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content").replace(/\"/g,"")}()}function toggleMenu(show){if(show){for(var i=1;i<items.length;i++)items[i].style.display="";menuIsDisplayd=!0,menuToggle.classList.remove("site-list__toggle--closed"),menuToggle.classList.add("site-list__toggle--open")}else{for(var _i=1;_i<items.length;_i++)items[_i].style.display="none";menuIsDisplayd=!1,menuToggle.classList.remove("site-list__toggle--open"),menuToggle.classList.add("site-list__toggle--closed")}}window.addEventListener("load",function(){menuToggle.classList.remove("site-list__toggle--no-js"),isMobile()?toggleMenu(!1):menuToggle.hidden=!0}),menuToggle.addEventListener("click",function(){menuIsDisplayd?(toggleMenu(!1),menuIsDisplayedOnMobile=!1):(toggleMenu(!0),menuIsDisplayedOnMobile=!0)}),window.addEventListener("resize",function(){isMobile()?(toggleMenu(!!menuIsDisplayedOnMobile),menuToggle.hidden=!1):(toggleMenu(!0),menuToggle.hidden=!0)})}(),function(){if(document.querySelector(".example")){var transitionDuration=.7,timerId=null,lastButton=null,mainBlock=document.querySelector(".example"),controlBlock=mainBlock.querySelector(".example__photos-control"),photosWrapper=mainBlock.querySelector(".example__photos-wrapper"),rangeCore=mainBlock.querySelector(".example__photos-control-range-core"),slider=mainBlock.querySelector(".example__photos-control-range"),overlayBefore=mainBlock.querySelector(".example__photos-wrapper-overlay-before"),overlayAfter=mainBlock.querySelector(".example__photos-wrapper-overlay-after"),backgroundAfter=mainBlock.querySelector(".example__photos-after-bg");controlBlock.classList.remove("example__photos-control--no-js"),window.addEventListener("load",function(){rangeCore.style.left=slider.offsetWidth/2-rangeCore.offsetWidth/2+"px"}),controlBlock.addEventListener("mousedown",function moveSlider(evt){if(1!=evt.which)return;var shiftX,core=rangeCore,leftBound=0-core.offsetWidth/2,rightBound=slider.offsetWidth-core.offsetWidth/2,photosWrapperLeftBound=photosWrapper.getBoundingClientRect().left,photosWrapperRightBound=photosWrapper.getBoundingClientRect().right;evt.target.classList.contains("example__photos-control-range-core")&&(evt.preventDefault(),lastButton=null,clearTransition(!0),shiftX=evt.clientX-core.getBoundingClientRect().left,catchUnderCursor(evt.clientX),document.body.addEventListener("mousemove",moveAt),document.body.onmouseup=function(){document.body.removeEventListener("mousemove",moveAt),document.body.onmouseleave=null,document.body.onmouseup=null},document.body.onmouseleave=function(){document.body.removeEventListener("mousemove",moveAt),document.body.onmouseleave=null,document.body.onmouseup=null});evt.target.classList.contains("example__photos-control-button")&&(timerId||(evt.target.classList.contains("example__photos-control-button--before")&&"before"!==lastButton&&(setTransition(),core.style.left=rightBound+"px",shiftBounds(slider.getBoundingClientRect().right),lastButton="before",clearTransition()),evt.target.classList.contains("example__photos-control-button--after")&&"after"!==lastButton&&(setTransition(),core.style.left=leftBound+"px",shiftBounds(slider.getBoundingClientRect().left),lastButton="after",clearTransition())));function catchUnderCursor(PositionX){var newPosition=PositionX-slider.getBoundingClientRect().left-shiftX;newPosition<leftBound&&(newPosition=leftBound),newPosition>rightBound&&(newPosition=rightBound),core.style.left=newPosition+"px",shiftBounds()}function shiftBounds(fixPosition){var coreCenter=core.getBoundingClientRect().left+core.offsetWidth/2;fixPosition&&(coreCenter=fixPosition);var leftDistance=coreCenter-photosWrapperLeftBound,rightDistance=photosWrapperRightBound-coreCenter;overlayBefore.style.width=leftDistance+"px",overlayAfter.style.width=rightDistance+"px",backgroundAfter.style.width=rightDistance+"px"}function moveAt(evt){catchUnderCursor(evt.clientX)}function setTransition(){core.style.transition=transitionDuration+"s",overlayBefore.style.transition=transitionDuration+"s",overlayAfter.style.transition=transitionDuration+"s",backgroundAfter.style.transition=transitionDuration+"s"}function clearTransition(instantly){function clearTransitionStyles(){overlayBefore.style.transition="",overlayAfter.style.transition="",backgroundAfter.style.transition="",core.style.transition=""}instantly?clearTransitionStyles():timerId=setTimeout(function(){clearTransitionStyles(),timerId=null},1e3*transitionDuration)}}),window.addEventListener("resize",function clearChanges(){overlayBefore.style.width="",overlayAfter.style.width="",backgroundAfter.style.width="",rangeCore.style.left=slider.offsetWidth/2-rangeCore.offsetWidth/2+"px"})}}();